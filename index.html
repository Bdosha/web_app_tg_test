<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <div id="main">
        <h1 id="test">QR-код</h1>
        <h1 id="test1">QR-код</h1>
        <button id="but">Кнопка</button>
    </div>


    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.MainButton.show();
        let button = document.getElementById("but");
        console.log(tg.initDataUnsafe);
        Telegram.WebApp.onEvent('mainButtonClicked', function() {
            console.log(tg.initDataUnsafe);
            console.log(tg.initDataUnsafe.user);
            document.getElementById("test").textContent = tg.initDataUnsafe.user.first_name;
            tg.sendData("some string that we need to send");
            //при клике на основную кнопку отправляем данные в строковом виде
        });
        button.addEventListener('click', () => {
            console.log(tg.initDataUnsafe);
            console.log(tg.initDataUnsafe.user);
            document.getElementById("test1").textContent = "sss";
            document.getElementById("test").textContent = tg.initDataUnsafe.user.first_name;
        });
    </script>
</body>

</html>
